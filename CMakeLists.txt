cmake_minimum_required (VERSION 3.0)
project (LIBOBJ)

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wfatal-errors")

add_subdirectory (obj)
add_subdirectory (obj-math)
#add_subdirectory (obj-header)
#add_subdirectory (obj-poly2tri)
#add_subdirectory (obj-gfx)
#add_subdirectory (obj-ui)
add_subdirectory (obj-cx)
add_subdirectory (obj-test)

if(MSVC)
    if(NOT CPP)
        set(CPP 11)
    endif()
endif()

if(CPP)
    set_property(TARGET obj PROPERTY CXX_STANDARD ${CPP})
    set_property(TARGET obj-test PROPERTY CXX_STANDARD ${CPP})
else()
    set_property(TARGET obj PROPERTY C_STANDARD 99)
    set_property(TARGET obj-test PROPERTY C_STANDARD 99)
endif()
